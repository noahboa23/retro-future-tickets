<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Available Movies</title>
        <style type="text/css">
         table.people td {
             padding: 20px;
             text-align:center;
             font-family: Arial, Verdana, sans-serif;
             border: 2px solid #000; 
             background-color: white;    
             color: #BB0000;    
             border-bottom: 3px solid #000;
         }
         table.center {
           margin-left: auto; 
           margin-right: auto;
         }
         body   
            {  
            height: 125vh;  
            margin-top: 80px;  
            padding: 30px;  
            background-size: cover;  
            font-family: sans-serif;  
            }  
            header {  
            background-color: #24262f;  
            position: fixed;  
            left: 0;  
            right: 0;  
            top: 5px;  
            height: 50px;  
            display: flex;  
            align-items: center;  
            box-shadow: 0 0 25px 0 black;  
            }  
            header * {  
            display: inline;  
            }  
            header li {  
            margin: 20px;  
            }  
            header li a {  
            color: white;  
            text-decoration: none;  
            }
        </style>
   </h:head>
    <h:body style="background-color:#792937;">
        <header>  
            <nav>  
                <ul>  
                    <li>
                        <h:link value="Home" outcome="index" />
                    </li>  
                    <li>
                        <h:link value="Zip Search" outcome="MainPage" />
                    </li>  
                </ul>  
            </nav>  
        </header>
        <!-- SHOW THE MOVIE THEATER THAT WAS SET-->
        <h2 style="color:white;font-family:gordita,Helvetica,sans-serif;text-align:center;font-size:300%;">
            Movies for #{showThingsBean.movietheater}
        </h2>
        <h:graphicImage style="height:200px;width:150px;display:block;margin:0px auto;" 
                        value="/resources/images/popcorn.png" 
                        alt="Image not found"/>
        
        <br /> <br /> <br /> <br /> <br /> <br />
        
        <f:view>
            <h:form>
                <!-- POPULATE OUR DATA TABLE WITH THE LIST OF MOVIES FROM THE 
                        MOVIE THEATER SELECTED-->
                <h:dataTable styleClass="center people" 
                             value = "#{showThingsBean.movieList}" 
                             var = "movietitle">
                    <h:column>
                        <f:facet name ="header">
                            <h:outputText value ="Movies" 
                                          style="color:white;font-family:gordita,Helvetica,sans-serif;" />
                        </f:facet>
                        <!-- IF THE USER CLICKS ON THE IMAGE, IT WILL SET THE MOVIE
                                CLICKED ON AND DISPLAY THE SHOW TIMES ASSOCIATED WITH
                                    THAT MOVIE -->
                        <h:commandLink action="#{showThingsBean.showTimespage(movietitle)}">
                            <h:graphicImage onmousedown="#{showThingsBean.showTimespage(movietitle)}"
                                            style="height:400px;width:250px;" 
                                            value="/resources/images/#{movietitle}.jpg" 
                                            alt="Image not found"/>
                        </h:commandLink>
                        
                        <br /> <br />
                        <!-- SHOW THE MOVIE TITLE. IF CLICKED ON IT WILL SET THE 
                                MOVIE AND GO TO THE SHOW TIMES PAGE ASSOCIATED WITH THAT
                                    MOVIE-->
                        <h:commandLink value ="#{movietitle}" 
                                       action="#{showThingsBean.showTimespage(movietitle)}"/>
                    </h:column>
                </h:dataTable>
            </h:form>
        </f:view>
    </h:body>
</html>

