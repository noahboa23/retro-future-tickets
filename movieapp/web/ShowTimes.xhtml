<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Available Times</title>
        <style type="text/css">
         table.people td {
             padding: 20px;
             text-align:center;
             font-family: Arial, Verdana, sans-serif;
             border: 2px solid #000; 
             background-color: white;    
             color: #BB0000;    
             border-bottom: 3px solid #000;
             max-width: 1000px;
         }
         table.center {
           margin-left: auto; 
           margin-right: auto;
         }
         body   
            {  
            height: 125vh;  
            margin-top: 80px;  
            padding: 30px;  
            background-size: cover;  
            font-family: sans-serif;  
            }  
            header {  
            background-color: #24262f;  
            position: fixed;  
            left: 0;  
            right: 0;  
            top: 5px;  
            height: 50px;  
            display: flex;  
            align-items: center;  
            box-shadow: 0 0 25px 0 black;  
            }  
            header * {  
            display: inline;  
            }  
            header li {  
            margin: 20px;  
            }  
            header li a {  
            color: white;  
            text-decoration: none;  
            }
        </style>
    </h:head>
    <h:body style="background-color:#792937;">
        <header>  
            <nav>  
                <ul>  
                    <li>
                        <h:link value="Home" outcome="index" />
                    </li>  
                    <li>
                        <h:link value="Zip Search" outcome="MainPage" />
                    </li>  
                </ul>  
            </nav>  
        </header>
        <!-- SHOW THE MOVIE THAT WAS SET -->
        <h2 style="color:white;font-family:gordita,Helvetica,sans-serif;text-align:center;font-size:300%;">
            Times for #{showThingsBean.movie}
        </h2>
        <h:graphicImage style="height:400px;width:250px;display:block;margin:0px auto;" 
                        value="/resources/images/#{showThingsBean.movie}.jpg"
                        alt="Image not found"/>
        <br /> <br /> 
        <f:view>
            <h:form>
                <!-- POPULATE OUR DATA TABLE WITH THE MOVIE DESCRIPTION 
                        FOR THE MOVIE THAT WAS SET-->
                <h:dataTable styleClass="center people"
                             value="#{showThingsBean.aboutList}" var ="about">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Movie Description" 
                                          style="color:white;font-family:gordita,Helvetica,sans-serif;"/>
                        </f:facet>
                        <!-- DISPLAY THE MOVIE DESCRIPTION -->
                        <h:outputText value ="#{about}" style="color: black;"/>                       
                    </h:column>
                </h:dataTable>
                
                <br/><br/><br/><br/>
                <!-- POPULATE OUR DATA TABLE WITH THE SHOW TIMES FOR THE MOVIE SET -->
                <h:dataTable styleClass="center people"
                             value="#{showThingsBean.timesList}" 
                             var ="timeslot">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Timeslot"
                                          style="color:white;font-family:gordita,Helvetica,sans-serif;"/>
                        </f:facet>
                        <!-- IF THE USER CLICKS HERE, THE TIME SLOT WILL BE SET 
                                AND IT WILL GO TO THE CHECK OUT PAGE-->
                        <h:commandLink action="#{showThingsBean.showCheckoutPage(timeslot)}">
                            <!-- DISPLAY THE TIME SLOT -->
                            <h:outputText value ="#{timeslot}"/>
                        </h:commandLink>
                    </h:column>
                </h:dataTable>
                <br/><br/>
                <h:outputLabel value="NOTE: I do not claim the movie description as my own. 
                               All rights are reserved to those who created them. Description 
                               was gathered from google.com" />
            </h:form>
        </f:view>
    </h:body>
</html>

